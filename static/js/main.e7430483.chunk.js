(this["webpackJsonpstable-matching-many-to-one"]=this["webpackJsonpstable-matching-many-to-one"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),a=n(4),i=function(){function t(){Object(e.a)(this,t),this.count=0}return Object(a.a)(t,[{key:"createID",value:function(){var t=this.count;return this.count+=1,t}},{key:"reset",value:function(){this.count=0}}]),t}();t.exports={IDFactory:i,indentify:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e-(t+"").length,a="";n>0;)a+=" ",n--;return a+t},shuffledArray:function(t){for(var e=new Array(t.length),n=0;n<t.length;){var a=t[Math.floor(Math.random()*t.length)];e.indexOf(a)<0&&(e[n]=a,n++)}return e}}}.call(this,n(7)(t))},function(t,e,n){t.exports={rowContainer:"individualData_rowContainer__3Xd6e"}},,function(t,e,n){t.exports={rowContainer:"collegeData_rowContainer__3U01K"}},,function(t,e,n){t.exports=n(35)},,,,,function(t,e,n){},function(t,e,n){},,,,,,function(t,e,n){var a=n(32),i=n(33);t.exports=function(t,e){var n=[],r=[];return t.forEach((function(t){var e=new a(t.name,t.preference);n.push(e)})),e.forEach((function(t){var e=new i(t.name,t.quota,t.preference);r.push(e)})),[n,r]}},function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),a=n(4),i=new(n(14).IDFactory),r=function(){function t(n,a){Object(e.a)(this,t),this.id=i.createID(),this.matchedWith=null,this.nextProposal=0,this.proposedToAll=!1,this.name=n,this.priorityList=a,this.rankingOfMatch=-1}return Object(a.a)(t,[{key:"setName",value:function(t){this.name=t}},{key:"setPriorityList",value:function(t){if("object"!=typeof t)throw new Error("Person.priorityList must be of type array but is: "+typeof t);this.priorityList=t}},{key:"proposeTo",value:function(){return this.nextProposal++,this.nextProposal===this.priorityList.length&&(this.proposedToAll=!0),this.priorityList[this.nextProposal-1]}},{key:"toString",value:function(){return"Student {id: "+this.id+", matchedWith: "+this.matchedWith+"}"}},{key:"printPriorityList",value:function(){if(this.priorityList){var t=this.id+" "+this.toString()+": ";return this.priorityList.forEach((function(e,n){t+=0===n?e:", "+e})),t}return this.id+": - no priorities -"}},{key:"setRankingOfMatch",value:function(){this.rankingOfMatch=this.priorityList.indexOf(this.matchedWith)}},{key:"resetID",value:function(){i.reset()}}]),t}();t.exports=r}.call(this,n(7)(t))},function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),a=n(4),i=new(n(14).IDFactory),r=function(){function t(n,a,r){Object(e.a)(this,t),this.id=i.createID(),this.matchedWith=[],this.appliedBy=[],this.quota=a,this.nextProposal=0,this.name=n,this.priorityList=r,this.rankingOfMatch=[]}return Object(a.a)(t,[{key:"setName",value:function(t){this.name=t}},{key:"reviewWaitingList",value:function(){var t=this;if(0===this.appliedBy.length)return null;var e=this.matchedWith,n=this.matchedWith.concat(this.appliedBy),a=this;return n.sort((function(t,e){var n=a.priorityList.indexOf(t),i=a.priorityList.indexOf(e);return n<i?-1:n>i?1:void 0})),n.length>this.quota?this.matchedWith=n.slice(0,this.quota):this.matchedWith=n,this.appliedBy=[],[this.matchedWith.filter((function(t){return!e.includes(t)})),e.filter((function(e){return!t.matchedWith.includes(e)}))]}},{key:"setPriorityList",value:function(t){if("object"!=typeof t)throw new Error("College.priorityList must be of type array but is: "+typeof t);this.priorityList=t}},{key:"toString",value:function(){return"College {id: "+this.id+", matchedWith: "+this.matchedWith.toString()+"}"}},{key:"printPriorityList",value:function(){if(this.priorityList){var t=this.id+" "+this.toString()+": ";return this.priorityList.forEach((function(e,n){t+=0===n?e:", "+e})),t}return this.id+": - no priorities -"}},{key:"setRankingOfMatch",value:function(){var t=this;this.matchedWith.forEach((function(e){t.rankingOfMatch.push(t.priorityList.indexOf(e))}))}},{key:"resetID",value:function(){i.reset()}}]),t}();t.exports=r}.call(this,n(7)(t))},function(t,e,n){"use strict";n.r(e),function(t){var e=n(18),a=n(1),i=n(3),r=n(4),c=function(){function t(e,n){Object(i.a)(this,t),this.studentList=e,this.collegeList=n,this.log=[]}return Object(r.a)(t,[{key:"match",value:function(){for(var t=this,e=1,n=function(){var n=[];n.push("Round ".concat(e)),t.studentList.forEach((function(e){if(null===e.matchedWith&&!e.proposedToAll){var a=t.collegeList[e.proposeTo()];a.appliedBy.push(e.id),n.push("".concat(e.name," applied to his/her next favorite group which is ").concat(a.name))}})),n.push("---------------------------------------"),t.collegeList.forEach((function(e){if(n.push("".concat(e.name,":")),0===e.appliedBy.length)n.push("".concat(e.name," was not applied by any persons in this round"));else{n.push("".concat(e.name," had ").concat(e.quota-e.matchedWith.length," quota left")),n.push("".concat(e.name," was applied by ").concat(t.printStudentNames(e.appliedBy)," in this round"));var i=e.reviewWaitingList(),r=Object(a.a)(i,2),c=r[0],o=r[1];c.length>0?(n.push("".concat(e.name," combined the previous acceptees with the new applicants this round and made the following decisions in accordance to its preference list and its remaining quota:")),n.push("".concat(e.name," tentatively accepted ").concat(t.printStudentNames(c))),o.length>0&&n.push("".concat(e.name," dropped ").concat(t.printStudentNames(o))),c.forEach((function(n){t.studentList[n].matchedWith=e.id})),o.forEach((function(e){t.studentList[e].matchedWith=null}))):n.push("".concat(e.name," rejected all of its applicants in this round"))}n.push("---------------------------------------")})),e++,n.push("---------------------------------------"),t.log.push(n)};this.existsFreeStudents()&&e<=9999;)n();this.studentList.forEach((function(t){t.setRankingOfMatch()})),this.collegeList.forEach((function(t){t.setRankingOfMatch()})),this.studentList[0].resetID(),this.collegeList[0].resetID()}},{key:"existsFreeStudents",value:function(){var t,n=Object(e.a)(this.studentList);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(null===a.matchedWith&&!a.proposedToAll)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"printStudentNames",value:function(t){var e=this,n=t.map((function(t){return e.studentList[t].name})).reduce((function(t,e){return t+" "+e}),"(");return n+=")"}}]),t}();t.exports=c}.call(this,n(7)(t))},function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(5),c=n.n(r),o=(n(24),n(1)),u=(n(25),Object(a.createContext)(null)),l=n(6),s=n(2),h=n(15),d=n.n(h),f=n(9),p=function(t){var e=t.isGroup,n=t.idx,r=Object(a.useContext)(u),c=r.collegeData,l=r.setCollegeData,h=r.individualData,d=r.setIndividualData,p=e?c[n].preference:h[n].preference;return i.a.createElement(f.a,{onDragEnd:function(t){if(t.destination){var a=function(t,e,n){var a=Array.from(t),i=a.splice(e,1),r=Object(o.a)(i,1)[0];return a.splice(n,0,r),a}(p,t.source.index,t.destination.index);if(e){var i=c.map((function(t){return t.idx===n?Object(s.a)(Object(s.a)({},t),{},{preference:a}):t}));l(i)}else{var r=h.map((function(t){return t.idx===n?Object(s.a)(Object(s.a)({},t),{},{preference:a}):t}));d(r)}}}},i.a.createElement(f.c,{droppableId:"droppable",direction:"horizontal"},(function(t,n){return i.a.createElement("div",Object.assign({ref:t.innerRef,style:(a=n.isDraggingOver,{background:a?"lightblue":"lightgrey",display:"flex",padding:8,overflow:"auto"})},t.droppableProps),p.map((function(t,n){return i.a.createElement(f.b,{key:t,draggableId:"".concat(t),index:n},(function(n,a){return i.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(r=a.isDragging,o=n.draggableProps.style,Object(s.a)({userSelect:"none",padding:16,margin:"0 ".concat(8,"px 0 0"),background:r?"lightgreen":"grey"},o))}),e?h[t].name:c[t].name);var r,o}))})),t.placeholder);var a})))},m=function(){var t=Object(a.useContext)(u),e=t.individualData,n=t.setIndividualData;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,e.map((function(t,a){return i.a.createElement("div",{key:a,className:d.a.rowContainer},i.a.createElement("div",null,"Person ",a),i.a.createElement("div",null,"Name",i.a.createElement("input",{type:"text",id:"individual-".concat(a,"-name"),name:"name",value:e[a].name,onChange:function(t){return function(t,a){var i=e.map((function(e){return e.idx===a?Object(s.a)(Object(s.a)({},e),{},Object(l.a)({},t.target.name,t.target.value)):e}));n(i)}(t,a)}})),i.a.createElement("div",null,"Preference",i.a.createElement(p,{isGroup:!1,idx:a})))}))))},v=n(17),g=n.n(v),y=function(){var t=Object(a.useContext)(u),e=t.collegeData,n=t.setCollegeData,r=function(t,a){var i=e.map((function(e){return e.idx===a?Object(s.a)(Object(s.a)({},e),{},Object(l.a)({},t.target.name,t.target.value)):e}));n(i)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,e.map((function(t,n){return i.a.createElement("div",{key:n,className:g.a.rowContainer},i.a.createElement("div",null,"Group ",n),i.a.createElement("div",null,"Name",i.a.createElement("input",{type:"text",id:"college-".concat(n,"-name"),name:"name",value:e[n].name,onChange:function(t){return r(t,n)}})),i.a.createElement("div",null,"Quota",i.a.createElement("input",{type:"number",id:"college-".concat(n,"-quota"),name:"quota",value:e[n].quota,onChange:function(t){return r(t,n)}})),i.a.createElement("div",null,"Preference",i.a.createElement(p,{isGroup:!0,idx:n})))}))))},b=function(){var t=Object(a.useContext)(u),e=t.stuN,n=t.setStuN,r=t.colN,c=t.setColN,o=t.initiated,l=t.initiate,s=t.setCollegeData,h=t.setIndividualData,d=function(t){t.preventDefault(),s(f(r)),h(p(e)),l(!0)},f=function(t){for(var n=[],a=0;a<t;a++)n.push({idx:a,name:"Group ".concat(a),quota:0,preference:Array.from(Array(parseInt(e)).keys())});return n},p=function(t){for(var e=[],n=0;n<t;n++)e.push({idx:n,name:"Person ".concat(n),preference:Array.from(Array(parseInt(r)).keys())});return e};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("label",null,"No. of individuals (e.g. applicants/trainees/employees):"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",id:"stuN",name:"stuN",value:e,onChange:function(t){return n(t.target.value)}}),i.a.createElement("br",null),i.a.createElement("label",null,"No. of groups (e.g. colleges/teams/departments):"),i.a.createElement("br",null),i.a.createElement("input",{type:"number",id:"colN",name:"colN",value:r,onChange:function(t){return c(t.target.value)}}),o?i.a.createElement("button",{onClick:d},"Reset"):i.a.createElement("button",{onClick:d},"Set up"))),o?i.a.createElement(i.a.Fragment,null,i.a.createElement(m,null),i.a.createElement(y,null)):null)},O=n(31),E=n(34);var j=function(t,e){var n=O(t,e),a=Object(o.a)(n,2),i=a[0],r=a[1],c=new E(i,r);return c.match(),[t.map((function(t,e){return Object(s.a)(Object(s.a)({},t),{},{matchedWith:i[e].matchedWith,rankingOfMatch:i[e].rankingOfMatch})})),e.map((function(t,e){return Object(s.a)(Object(s.a)({},t),{},{matchedWith:r[e].matchedWith,rankingOfMatch:r[e].rankingOfMatch})})),c.log]},k=function(){var t=Object(a.useContext)(u),e=t.initiated,n=t.collegeData,r=t.setCollegeResult,c=t.individualData,l=t.setIndividualResult,s=(t.individualResult,t.collegeResult,t.logDetails),h=t.setLogDetails;return i.a.createElement("div",null,e?i.a.createElement("button",{onClick:function(t){t.preventDefault();var e=j(c,n),a=Object(o.a)(e,3),i=a[0],u=a[1],s=a[2];r(u),l(i),h(s)}},"Begin matching"):null,s.map((function(t,e){return i.a.createElement("div",{key:e},t.map((function(t,e){return i.a.createElement("p",{key:e},t)})))})))};var x=function(){var t=Object(a.useState)(0),e=Object(o.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(0),l=Object(o.a)(c,2),s=l[0],h=l[1],d=Object(a.useState)(!1),f=Object(o.a)(d,2),p=f[0],m=f[1],v=Object(a.useState)([]),g=Object(o.a)(v,2),y=g[0],O=g[1],E=Object(a.useState)([]),j=Object(o.a)(E,2),x=j[0],D=j[1],L=Object(a.useState)([]),C=Object(o.a)(L,2),w=C[0],N=C[1],S=Object(a.useState)([]),W=Object(o.a)(S,2),I=W[0],P=W[1],R=Object(a.useState)([]),M=Object(o.a)(R,2),A=M[0],q=M[1];return i.a.createElement(u.Provider,{value:{stuN:n,setStuN:r,colN:s,setColN:h,initiated:p,initiate:m,collegeData:y,setCollegeData:O,individualData:x,setIndividualData:D,collegeResult:w,setCollegeResult:N,individualResult:I,setIndividualResult:P,logDetails:A,setLogDetails:q}},i.a.createElement("div",{className:"App"},i.a.createElement("div",null,"many to one"),i.a.createElement("div",null,"stable matching"),i.a.createElement(b,null),i.a.createElement(k,null)))};c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x,null)),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.e7430483.chunk.js.map