(this["webpackJsonpstable-matching-many-to-one"]=this["webpackJsonpstable-matching-many-to-one"]||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),i=n(4),a=function(){function t(){Object(e.a)(this,t),this.count=0}return Object(i.a)(t,[{key:"createID",value:function(){var t=this.count;return this.count+=1,t}}]),t}();t.exports={IDFactory:a,indentify:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e-(t+"").length,i="";n>0;)i+=" ",n--;return i+t},shuffledArray:function(t){for(var e=new Array(t.length),n=0;n<t.length;){var i=t[Math.floor(Math.random()*t.length)];e.indexOf(i)<0&&(e[n]=i,n++)}return e}}}.call(this,n(8)(t))},function(t,e,n){t.exports={rowContainer:"individualData_rowContainer__3Xd6e"}},function(t,e,n){t.exports={rowContainer:"collegeData_rowContainer__3U01K"}},,,,,function(t,e,n){t.exports=n(38)},,,,,function(t,e,n){},function(t,e,n){},,,,,,function(t,e,n){var i=n(35),a=n(36),r=n(37),o=new i,c=new i,l=new i,u=new i,s=new i,d=new i,h=new i,f=new i,m=new a(2),p=new a(2),g=new a(3);o.setPriorityList([1,0,2]),c.setPriorityList([0,1,2]),l.setPriorityList([1,0,2]),u.setPriorityList([1,0,2]),s.setPriorityList([1,0,2]),d.setPriorityList([0,1,2]),h.setPriorityList([1,0,2]),f.setPriorityList([1,0,2]),m.setPriorityList([5,0,1,2,3,4,6,7]),p.setPriorityList([1,0,2,3,4,5,6,7]),g.setPriorityList([1,0,2,3,4,5,6,7]),new r([o,c,l,u,s,d,h,f],[m,p,g]).match();t.exports=function(){console.log([o,c,l,u,s,d,h,f]),console.log([m,p,g])}},function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),i=n(4),a=new(n(15).IDFactory),r=function(){function t(){Object(e.a)(this,t),this.id=a.createID(),this.matchedWith=null,this.nextProposal=0,this.proposedToAll=!1,this.name=""}return Object(i.a)(t,[{key:"setName",value:function(t){this.name=t}},{key:"setPriorityList",value:function(t){if("object"!=typeof t)throw new Error("Person.priorityList must be of type array but is: "+typeof t);this.priorityList=t}},{key:"proposeTo",value:function(){return this.nextProposal++,this.nextProposal===this.priorityList.length&&(this.proposedToAll=!0),this.priorityList[this.nextProposal-1]}},{key:"toString",value:function(){return"Student {id: "+this.id+", matchedWith: "+this.matchedWith+"}"}},{key:"printPriorityList",value:function(){if(this.priorityList){var t=this.id+" "+this.toString()+": ";return this.priorityList.forEach((function(e,n){t+=0===n?e:", "+e})),t}return this.id+": - no priorities -"}}]),t}();t.exports=r}.call(this,n(8)(t))},function(t,e,n){"use strict";n.r(e),function(t){var e=n(3),i=n(4),a=n(15);console.log(a);var r=new a.IDFactory,o=function(){function t(n){Object(e.a)(this,t),this.id=r.createID(),this.matchedWith=[],this.appliedBy=[],this.quota=n,this.nextProposal=0,this.name=""}return Object(i.a)(t,[{key:"setName",value:function(t){this.name=t}},{key:"reviewWaitingList",value:function(){var t=this;if(0===this.appliedBy.length)return null;var e=this.matchedWith,n=this.matchedWith.concat(this.appliedBy),i=this;return n.sort((function(t,e){var n=i.priorityList.indexOf(t),a=i.priorityList.indexOf(e);return n<a?-1:n>a?1:void 0})),n.length>this.quota?this.matchedWith=n.slice(0,this.quota):this.matchedWith=n,this.appliedBy=[],[this.matchedWith.filter((function(t){return!e.includes(t)})),e.filter((function(e){return!t.matchedWith.includes(e)}))]}},{key:"setPriorityList",value:function(t){if("object"!=typeof t)throw new Error("College.priorityList must be of type array but is: "+typeof t);this.priorityList=t}},{key:"toString",value:function(){return"College {id: "+this.id+", matchedWith: "+this.matchedWith.toString()+"}"}},{key:"printPriorityList",value:function(){if(this.priorityList){var t=this.id+" "+this.toString()+": ";return this.priorityList.forEach((function(e,n){t+=0===n?e:", "+e})),t}return this.id+": - no priorities -"}}]),t}();t.exports=o}.call(this,n(8)(t))},function(t,e,n){"use strict";n.r(e),function(t){var e=n(19),i=n(2),a=n(3),r=n(4),o=function(){function t(e,n){Object(a.a)(this,t),this.studentList=e,this.collegeList=n}return Object(r.a)(t,[{key:"match",value:function(){for(var t=this,e=1;this.existsFreeStudents()&&e<=9999;)console.log("new round"),this.studentList.forEach((function(e){null!==e.matchedWith||e.proposedToAll||t.collegeList[e.proposeTo()].appliedBy.push(e.id)})),this.collegeList.forEach((function(e){var n=e.reviewWaitingList();if(n){var a=Object(i.a)(n,2),r=a[0],o=a[1];r.forEach((function(n){console.log(n," added to college ",e.id),t.studentList[n].matchedWith=e.id})),o.forEach((function(n){console.log(n," dropped by college ",e.id),t.studentList[n].matchedWith=null}))}})),e++}},{key:"existsFreeStudents",value:function(){var t,n=Object(e.a)(this.studentList);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(null===i.matchedWith&&!i.proposedToAll)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"printResult",value:function(){this.studentList.forEach((function(t){console.log("Stu ID: "+t.id+" was accepted by college ID: "+t.matchedWith)})),this.collegeListforEach((function(t){console.log(t.toString())}))}}]),t}();t.exports=o}.call(this,n(8)(t))},function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(6),o=n.n(r),c=(n(27),n(2)),l=(n(28),Object(i.createContext)(null)),u=n(7),s=n(1),d=n(16),h=n.n(d),f=function(){var t=Object(i.useContext)(l),e=t.individualData,n=t.setIndividualData;return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",null,e.map((function(t,i){return a.a.createElement("div",{key:i,className:h.a.rowContainer},a.a.createElement("div",null,"Person ",i),a.a.createElement("div",null,"Name",a.a.createElement("input",{type:"text",id:"individual-".concat(i,"-name"),name:"name",value:e[i].name,onChange:function(t){return function(t,i){var a=e.map((function(e){return e.idx===i?Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},t.target.name,t.target.value)):e}));n(a)}(t,i)}})))}))))},m=n(17),p=n.n(m),g=function(){var t=Object(i.useContext)(l),e=t.collegeData,n=t.setCollegeData,r=function(t,i){var a=e.map((function(e){return e.idx===i?Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},t.target.name,t.target.value)):e}));n(a)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",null,e.map((function(t,n){return a.a.createElement("div",{key:n,className:p.a.rowContainer},a.a.createElement("div",null,"Group ",n),a.a.createElement("div",null,"Name",a.a.createElement("input",{type:"text",id:"college-".concat(n,"-name"),name:"name",value:e[n].name,onChange:function(t){return r(t,n)}})),a.a.createElement("div",null,"Quota",a.a.createElement("input",{type:"number",id:"college-".concat(n,"-quota"),name:"quota",value:e[n].quota,onChange:function(t){return r(t,n)}})))}))))},v=function(){var t=Object(i.useContext)(l),e=t.stuN,n=t.setStuN,r=t.colN,o=t.setColN,c=t.initiated,u=t.initiate,s=t.setCollegeData,d=t.setIndividualData,h=function(t){t.preventDefault(),s(m(r)),d(p(e)),u(!0)},m=function(t){for(var n=[],i=0;i<t;i++)n.push({idx:i,name:"Group ".concat(i),quota:0,preference:Array.from({length:e},(function(t,e){return e})).map((function(t){return{id:"".concat(t),content:"Person ".concat(t)}}))});return n},p=function(t){for(var e=[],n=0;n<t;n++)e.push({idx:n,name:"Person ".concat(n),preference:Array.from({length:r},(function(t,e){return e})).map((function(t){return{id:"".concat(t),content:"College ".concat(t)}}))});return e};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("form",null,a.a.createElement("label",null,"No. of individuals (e.g. applicants/trainees/employees):"),a.a.createElement("br",null),a.a.createElement("input",{type:"number",id:"stuN",name:"stuN",value:e,onChange:function(t){return n(t.target.value)}}),a.a.createElement("br",null),a.a.createElement("label",null,"No. of groups (e.g. colleges/teams/departments):"),a.a.createElement("br",null),a.a.createElement("input",{type:"number",id:"colN",name:"colN",value:r,onChange:function(t){return o(t.target.value)}}),c?a.a.createElement("button",{onClick:h},"Reset"):a.a.createElement("button",{onClick:h},"Set up"))),c?a.a.createElement(a.a.Fragment,null,a.a.createElement(f,null),a.a.createElement(g,null)):null)},y=n(3),b=n(4),E=n(9),O=n(21),j=n(20),L=n(5),x=(i.Component,function(t){var e=t.isGroup,n=t.idx,r=Object(i.useContext)(l),o=r.collegeData,u=r.setCollegeData,d=r.individualData,h=r.setIndividualData,f=e?o[n].preference:d[n].preference;return a.a.createElement(L.a,{onDragEnd:function(t){if(t.destination){var i=function(t,e,n){var i=Array.from(t),a=i.splice(e,1),r=Object(c.a)(a,1)[0];return i.splice(n,0,r),i}(f,t.source.index,t.destination.index);if(e){var a=o.map((function(t){return t.idx===n?Object(s.a)(Object(s.a)({},t),{},{preference:i}):t}));u(a)}else{var r=d.map((function(t){return t.idx===n?Object(s.a)(Object(s.a)({},t),{},{preference:i}):t}));h(r)}}}},a.a.createElement(L.c,{droppableId:"droppable",direction:"horizontal"},(function(t,e){return a.a.createElement("div",Object.assign({ref:t.innerRef,style:(n=e.isDraggingOver,{background:n?"lightblue":"lightgrey",display:"flex",padding:8,overflow:"auto"})},t.droppableProps),f.map((function(t,e){return a.a.createElement(L.b,{key:t.id,draggableId:t.id,index:e},(function(e,n){return a.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:(i=n.isDragging,r=e.draggableProps.style,Object(s.a)({userSelect:"none",padding:16,margin:"0 ".concat(8,"px 0 0"),background:i?"lightgreen":"grey"},r))}),t.content);var i,r}))})),t.placeholder);var n})))});n(34);var w=function(){var t=Object(i.useState)(0),e=Object(c.a)(t,2),n=e[0],r=e[1],o=Object(i.useState)(0),u=Object(c.a)(o,2),s=u[0],d=u[1],h=Object(i.useState)(!1),f=Object(c.a)(h,2),m=f[0],p=f[1],g=Object(i.useState)([]),y=Object(c.a)(g,2),b=y[0],E=y[1],O=Object(i.useState)([]),j=Object(c.a)(O,2),L=j[0],w=j[1];return console.log(b),console.log(L),a.a.createElement(l.Provider,{value:{stuN:n,setStuN:r,colN:s,setColN:d,initiated:m,initiate:p,collegeData:b,setCollegeData:E,individualData:L,setIndividualData:w}},a.a.createElement("div",{className:"App"},a.a.createElement("div",null,"many to one"),a.a.createElement("div",null,"stable matching"),a.a.createElement(v,null),m?a.a.createElement(x,{isGroup:!1,idx:1}):null))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.ce8e4e54.chunk.js.map