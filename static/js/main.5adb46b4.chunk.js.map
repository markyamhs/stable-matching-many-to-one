{"version":3,"sources":["algorithm/gs.js","App.js","index.js"],"names":["GS","name","undefined","ranking","matchedTo","highestTypeB","toString","this","str","parent","textElem","document","createElement","appendChild","createTextNode","lineNumber","typeAs","typeBs","a","length","print","result","verbose","round","verboseResults","getElementById","totalUnmatched","A","b","B","a_","A_","indexOf","module","exports","require","App","console","log","className","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.5adb46b4.chunk.js","sourcesContent":["var GS = {};\r\nGS.TypeA = {\r\n  name: undefined,\r\n  ranking: [],\r\n  matchedTo: undefined,\r\n  highestTypeB: 0,\r\n  toString: function () {\r\n    return this.name;\r\n  },\r\n};\r\n\r\nGS.TypeB = {\r\n  name: undefined,\r\n  ranking: [],\r\n  matchedTo: undefined,\r\n  toString: function () {\r\n    return this.name;\r\n  },\r\n};\r\n\r\nGS.globals = {};\r\n\r\nGS.lineNumber = 1;\r\n\r\n/**\r\n * Output a string of text wrapped in a <p>.\r\n */\r\nGS.print = function (str, parent) {\r\n  var textElem = document.createElement(\"p\");\r\n  textElem.appendChild(document.createTextNode(GS.lineNumber++ + \": \" + str));\r\n  parent.appendChild(textElem);\r\n};\r\n\r\n/**\r\n * Output the pairing results.\r\n */\r\nGS.printPairs = function (typeAs, typeBs, parent) {\r\n  for (var a = 0; a < typeAs.length; a++) {\r\n    GS.print(\r\n      typeAs[a].name + \" is paired with \" + typeBs[typeAs[a].matchedTo].name,\r\n      parent\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * Returns the number of unpaired typeAs.\r\n */\r\nGS.totalUnmatched = function (typeAs) {\r\n  var result = 0;\r\n  for (var a = 0; a < typeAs.length; a++) {\r\n    if (typeAs[a].matchedTo == undefined) {\r\n      result += 1;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * Gale-Shapley algorithm for stable matching.\r\n */\r\nGS.match = function (typeAs, typeBs, verbose) {\r\n  var round = 1;\r\n  var verboseResults = document.getElementById(\"verbose_results\");\r\n  while (GS.totalUnmatched(typeAs) > 0 && round <= 50) {\r\n    var result = \"\";\r\n    if (verbose) GS.print(\"Round \" + round, verboseResults);\r\n    for (var a = 0; a < typeAs.length; a++) {\r\n      (function () {\r\n        var A = typeAs[a];\r\n        if (typeAs[a].matchedTo === undefined) {\r\n          // choose the highest typeB that a has not proposed to\r\n          var b = typeAs[a].ranking[typeAs[a].highestTypeB];\r\n          var B = typeBs[b];\r\n          if (verbose) GS.print(A + \" prefers \" + B, verboseResults);\r\n          // if b does not have a match, then pair a and b\r\n          if (typeBs[b].matchedTo == undefined) {\r\n            if (verbose)\r\n              GS.print(B + \" is previously unmatched\", verboseResults);\r\n            typeAs[a].matchedTo = b;\r\n            typeBs[b].matchedTo = a;\r\n            if (verbose)\r\n              GS.print(A + \" becomes paired with \" + B, verboseResults);\r\n          }\r\n          // if b is already paired with a, then do nothing\r\n          else if (typeBs[b].matchedTo == a) {\r\n            // do nothing\r\n            if (verbose)\r\n              GS.print(B + \" is already matched to \" + A, verboseResults);\r\n          }\r\n          // otherwise, b already is paired, but it is not to a\r\n          else {\r\n            var a_ = typeBs[b].matchedTo;\r\n            var A_ = typeAs[a_];\r\n            if (verbose)\r\n              GS.print(B + \" is already paired to \" + A_, verboseResults);\r\n            if (verbose)\r\n              GS.print(\r\n                B + \" ranks \" + A_ + \" as \" + typeBs[b].ranking.indexOf(a_),\r\n                verboseResults\r\n              );\r\n            if (verbose)\r\n              GS.print(\r\n                B + \" ranks \" + A + \" as \" + typeBs[b].ranking.indexOf(a),\r\n                verboseResults\r\n              );\r\n            // if b's current pair (a_) ranks b higher than a, then a should look for another pair\r\n            if (typeBs[b].ranking.indexOf(a_) < typeBs[b].ranking.indexOf(a)) {\r\n              // do not ask this typeB again\r\n              typeAs[a].highestTypeB++;\r\n              if (verbose)\r\n                GS.print(\r\n                  A +\r\n                    \" moves on to \" +\r\n                    typeBs[typeAs[a].ranking[typeAs[a].highestTypeB]],\r\n                  verboseResults\r\n                );\r\n            }\r\n            // otherwise, pair a with b, and a_ should be paired with somebody else\r\n            else {\r\n              typeAs[a].matchedTo = b;\r\n              typeBs[b].matchedTo = a;\r\n              typeAs[a_].matchedTo = undefined;\r\n              if (verbose)\r\n                GS.print(A + \" becomes paired with \" + B, verboseResults);\r\n              if (verbose) GS.print(A_ + \" becomes single\", verboseResults);\r\n              typeAs[a_].highestTypeB++;\r\n              if (verbose)\r\n                GS.print(\r\n                  A_ +\r\n                    \" moves on to \" +\r\n                    typeBs[typeAs[a_].ranking[typeAs[a_].highestTypeB]],\r\n                  verboseResults\r\n                );\r\n            }\r\n          }\r\n        }\r\n      })();\r\n    }\r\n    round++;\r\n  }\r\n};\r\nmodule.exports = GS;\r\n","import React from \"react\";\nimport \"./App.css\";\nvar GS = require(\"./algorithm/gs\");\n\nfunction App() {\n  console.log(GS);\n  return (\n    <div className=\"App\">\n      <div>many to one</div>\n      <div>stable matching</div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}